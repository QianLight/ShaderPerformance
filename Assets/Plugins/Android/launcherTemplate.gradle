// GENERATED BY UNITY. REMOVE THIS COMMENT TO PREVENT OVERWRITING WHEN EXPORTING AGAIN
// 需要添加jetifier配置，具体参考：https://zhuanlan.zhihu.com/p/83162670
([rootProject] + (rootProject.subprojects as List)).each {
    ext {
        it.setProperty("android.useAndroidX", true)
        it.setProperty("android.enableJetifier", true)
    }
}

apply plugin: 'com.android.application'
apply plugin: 'g.gsdk'

dependencies {
    implementation project(':unityLibrary')
    }

android {
    compileSdkVersion 30
    buildToolsVersion '**BUILDTOOLS**'

    compileOptions {
        sourceCompatibility JavaVersion.VERSION_1_8
        targetCompatibility JavaVersion.VERSION_1_8
    }

    defaultConfig {
		minSdkVersion 19
        targetSdkVersion 26
        applicationId 'com.pie.piegame11'
        ndk {
            abiFilters **ABIFILTERS**
        }
        versionCode **VERSIONCODE**
        versionName '**VERSIONNAME**'
		
		 //GSDK defaultConfig 需要设置的内容
        manifestPlaceholders = [
            'appAuthRedirectScheme': '**APPLICATIONID**'
        ]
    }

    aaptOptions {
        noCompress = ['.ress', '.resource', '.obb'] + unityStreamingAssets.tokenize(', ')
        ignoreAssetsPattern = "!.svn:!.git:!.ds_store:!*.scc:.*:!CVS:!thumbs.db:!picasa.ini:!*~"
    }**SIGN**

    lintOptions {
        abortOnError false
    }

    buildTypes {
        debug {
            minifyEnabled **MINIFY_DEBUG**
            proguardFiles getDefaultProguardFile('proguard-android.txt')**SIGNCONFIG**
            jniDebuggable true
        }
        release {
            minifyEnabled **MINIFY_RELEASE**
            proguardFiles getDefaultProguardFile('proguard-android.txt')**SIGNCONFIG**
        }
    }**PACKAGING_OPTIONS****SPLITS**
**BUILT_APK_LOCATION**
    bundle {
        language {
            enableSplit = false
        }
        density {
            enableSplit = false
        }
        abi {
            enableSplit = true
        }
    }
}**SPLITS_VERSION_CODE****LAUNCHER_SOURCE_BUILD_SETUP**

gsdk {
    appId = '7002'
    it.version = '3.15.2.0'
    region = 'cn'
    useUnityGsdk = true
    unityBridgeVersion = '3.15.2.0'
    optionalModules='asr,im,deeplink,qrcode,upgrade,voice,core,location,push'

	componentSpec {
       account {
        it.version='3.15.2.0'
        it.abilities='AccountTapTap,AccountCommon'
      }
      compliance {
        it.version='3.15.1.2'
        it.abilities='ComplianceAntiAddiction,CompliancePrivacy,CompliancePermission,ComplianceProtocol'
      }
      gpm {
        it.version='3.15.0.0'
        it.abilities='GPM'
      }
      asr {
        it.abilities='ASR'
      }
      im {
        it.abilities='IM'
      }
      deeplink {
        it.abilities='DeepLink'
      }
      agreement {
        it.abilities='SSL'
      }
      qrcode {
        it.abilities='QRCode'
      }
      upgrade {
        it.abilities='ForceUpdate'
      }
      core {
        it.abilities='Core'
      }
      location {
        it.abilities='Location'
      }
      pay {
        it.version='3.15.1.0'
        it.abilities='Pay'
      }
      push {
        it.version='3.15.1.0'
        it.abilities='Push'
      }
      rn {
        it.version='3.15.2.0'
        it.abilities='RN'
      }
      rncore {
        it.version='3.15.2.0'
        it.abilities='RNCore'
      }
      rtc {
        it.version='3.37.203.002028'
        it.abilities='RTC'
      }
      share {
        it.version='3.15.2.0'
        it.abilities='ShareDouyin,ShareWeibo,ShareQQ,ShareImage,ShareWeChat'
      }
	  voice {
        it.version='3.15.2.0'
        it.abilities='Voice'
      }
      webview {
        it.version='3.15.2.0'
        it.abilities='Webview'
      }
    }

    specified {
        deleteLogoPng = true  //删掉gsdk的logo，修改为非纯净版时该配置需要去掉
        //handleLoginPannel = true
    }

	messi {
		enabled = true
    }
}